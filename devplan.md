Read file: prd.md
# 有害生物防制施工管理系统开发计划

## 1. 项目概述

本文档是有害生物防制施工管理系统的开发计划，基于PRD文档中的需求，对小程序、后台管理系统和后端服务的开发进行详细规划。

**重要更新**: 项目已从若依框架迁移到SmartAdmin框架，获得更强的安全性、更丰富的功能和更好的开发体验。

## 2. 开发阶段

### 2.1 准备阶段（1周）
- ✅ 环境搭建
- ✅ 技术选型确认
- ✅ 开发规范制定
- ✅ 数据库设计

### 2.2 后端开发（3周）

#### 2.2.1 基础框架搭建（3天）
- ✅ SmartAdmin框架部署与配置
- ✅ 数据库连接配置
- ✅ 基础权限体系调整
- ✅ 从若依框架迁移到SmartAdmin框架

#### 2.2.2 用户管理模块（3天）
- ✅ 用户表设计与实现
- ✅ 微信用户绑定功能
- ✅ 用户信息查看接口
- ✅ 用户关联项目查看接口

#### 2.2.3 项目管理模块（4天）
- ✅ 项目表设计与实现
- ✅ 项目CRUD接口
- ✅ 项目关联用户接口
- ✅ 项目进度查看接口

#### 2.2.4 施工记录模块（5天）
- ✅ 施工记录表设计与实现
- ✅ 施工记录CRUD接口
- ✅ 施工照片上传接口
- ✅ 施工报告生成接口

#### 2.2.5 评价管理模块（2天）
- ✅ 评价表设计与实现
- ✅ 评价CRUD接口
- ✅ 评价统计接口

#### 2.2.6 消杀知识库模块（3天）
- ✅ 知识库内容表设计与实现
- ✅ 知识库内容CRUD接口
- ✅ 知识库分类管理（技术指南/操作规范/安全知识）
- ✅ 内容权限控制（施工员/客户/公开）

#### 2.2.7 消息推送模块（3天）
- ✅ 微信服务号对接
- ✅ 消息模板配置（施工提醒）
- ✅ 定时推送任务开发

### 2.3 后台管理系统开发（2周）

#### 2.3.1 基础框架搭建（2天）
- ✅ 若依VUE3框架部署与配置
- ✅ 权限控制调整
- ✅ 主题定制

#### 2.3.2 用户管理界面（2天）
- ✅ 用户列表页面
- ✅ 用户信息查看页面
- ✅ 用户关联项目查看页面

#### 2.3.3 项目管理界面（3天）
- ✅ 项目列表页面
- ✅ 项目添加/编辑页面
- ✅ 项目关联用户页面
- ✅ 项目进度查看页面

#### 2.3.4 施工数据管理界面（3天）
- ✅ 施工记录列表页面
- ✅ 施工记录详情页面
- ✅ 施工数据补充页面
- ✅ 施工报告预览与导出页面

#### 2.3.5 消杀知识库管理界面（2天）
- ✅ 知识库内容列表页面
- ✅ 知识库内容编辑页面
- ✅ 知识库内容发布页面
- ✅ 分类管理页面
- ✅ 权限设置页面

#### 2.3.6 统计分析界面（2天）
- ✅ 施工数据统计页面
- ✅ 评价数据统计页面
- ✅ 数据导出功能

#### 2.3.7 图文视频文章管理界面（2天）
- ✅ 内容列表页面
- ✅ 内容编辑页面
- ✅ 内容发布页面（图文视频文章）

#### 2.3.8 微信服务号配置界面（2天）
- ✅ 服务号配置页面
- ✅ 消息模板配置页面
- ✅ 推送规则设置页面

### 2.4 小程序开发（3周）

#### 2.4.1 基础框架搭建（3天）
- ✅ 微信小程序项目创建
- ✅ 页面框架搭建
- ✅ 全局样式定义
- ✅ 权限控制实现

#### 2.4.2 未登录用户功能（2天）
- ✅ 首页公开知识展示
- ✅ 文章详情页
- ✅ 微信一键登录功能

#### 2.4.3 通用功能模块（3天）
- ✅ 用户中心页面
- ✅ 消杀知识库浏览页面

#### 2.4.4 管理员功能模块（3天）
- ✅ 施工进度查看页面
- ✅ 施工数据补充页面
- ✅ 统计报表查看页面

#### 2.4.5 施工员功能模块（5天）
- ✅ 项目列表页面
- ✅ 施工数据录入页面
- ✅ 施工报告生成页面
- ✅ PDF报告下载功能
- ✅ 历史施工记录查看页面

#### 2.4.6 客户功能模块（4天）
- ✅ 关联项目查看页面
- ✅ 施工进度查看页面
- ✅ 施工报告下载页面
- ✅ 施工评价页面
- ✅ 历史施工记录查看页面

#### 2.4.7 消息推送功能（2天）
- ⏳ 推送消息接收与展示
- ⏳ 消息提醒设置页面

### 2.5 系统测试（1周）

#### 2.5.1 功能测试（3天）
- ⏳ 后端接口测试
- ⏳ 后台管理系统功能测试
- ⏳ 小程序功能测试

#### 2.5.2 性能测试（2天）
- ⏳ 接口响应时间测试
- ⏳ 并发用户测试
- ⏳ 数据库性能测试

#### 2.5.3 安全测试（2天）
- ⏳ 权限控制测试
- ⏳ 数据加密测试
- ⏳ 接口安全测试

### 2.6 部署上线（1周）

#### 2.6.1 环境部署（3天）
- ✅ 服务器环境配置
- ✅ 数据库部署
- ✅ 后端服务部署
- ✅ 后台管理系统部署
- ⏳ 小程序提交审核

#### 2.6.2 数据迁移（2天）
- ⏳ 测试数据清理
- ⏳ 初始化数据准备
- ⏳ 数据导入

#### 2.6.3 上线验证（2天）
- ⏳ 系统功能验证
- ⏳ 性能监控配置
- ⏳ 问题修复

## 3. 开发进度跟踪

| 模块 | 页面 | 状态 | 备注 |
|-----|-----|------|------|
| 登录 | 登录页 | ✅ 已完成 | 微信一键登录 |
| 工作台 | 工作首页 | ✅ 已完成 | 包含月度统计、待办事项、区域分布、药剂使用情况 |
| 工作台 | 施工记录 | ✅ 已完成 | 支持录入施工数据 |
| 工作台 | 施工详情 | ✅ 已完成 | 包含项目信息、基本信息、照片记录等 |
| 工作台 | 历史记录 | ✅ 已完成 | 支持筛选和查看详情 |
| 用户中心 | 个人信息 | ✅ 已完成 | 展示用户信息和功能菜单 |
| 知识库 | 知识列表 | ✅ 已完成 | 分类展示消杀知识 |
| 知识库 | 内容详情 | ✅ 已完成 | 支持视频播放和图文查看 |
| 项目管理 | 项目列表 | ✅ 已完成 | 展示项目基本信息 |
| 项目管理 | 项目详情 | ✅ 已完成 | 包含项目进度和施工记录 |
| 客户管理 | 客户列表 | ✅ 已完成 | 展示客户基本信息 |
| 客户管理 | 客户详情 | ✅ 已完成 | 包含客户信息和关联项目 |
| 客户管理 | 客户创建 | ✅ 已完成 | 支持添加新客户 |
| 客户管理 | 客户编辑 | ✅ 已完成 | 支持修改客户信息 |
| 角色选择 | 角色选择页 | ✅ 已完成 | 支持选择用户角色 |
| 消息通知 | 消息列表 | ❌ 未开始 | 展示系统通知和提醒 |

## 4. 风险评估与应对措施

| 风险点 | 可能性 | 影响程度 | 应对措施 |
|--------|--------|----------|----------|
| 微信服务号接口调用限制 | 中 | 高 | 做好接口调用频率控制，实现本地缓存机制 |
| PDF生成服务性能问题 | 中 | 中 | 选择高性能的PDF生成库，实现异步生成机制 |
| 小程序审核不通过 | 低 | 高 | 提前了解审核规则，做好备选方案 |
| 数据库性能瓶颈 | 低 | 高 | 做好数据库索引优化，实现数据分表策略 |

## 5. 技术栈确认

### 5.1 后端技术栈
- 框架：Spring Boot
- 数据库：MySQL
- 缓存：Redis
- 文件存储：阿里云OSS
- PDF生成：iText或wkhtmltopdf

### 5.2 后台管理系统技术栈
- 框架：Vue 3
- UI组件：Element Plus
- 状态管理：Pinia
- 构建工具：Vite

### 5.3 小程序技术栈
- 框架：原生微信小程序
- UI组件：WeUI
- 请求库：wx.request
- 图表：ECharts 小程序版

## 6. 开发规范

### 6.1 代码规范
- 后端：阿里巴巴Java开发手册
- 前端：Airbnb JavaScript Style Guide
- 小程序：微信小程序官方规范

### 6.2 Git工作流
- 主分支：master
- 开发分支：develop
- 功能分支：feature/xxx
- 发布分支：release/xxx
- 修复分支：hotfix/xxx

### 6.3 提交规范
- feat：新功能
- fix：修复bug
- docs：文档更新
- style：代码格式调整
- refactor：重构
- test：测试相关
- chore：构建过程或辅助工具变动

## 7. 项目里程碑

| 里程碑 | 计划日期 | 实际日期 | 完成状态 |
|--------|----------|----------|----------|
| 需求分析完成 | 2024-03-01 | 2024-03-01 | ✅ 已完成 |
| 系统设计完成 | 2024-03-08 | 2024-03-08 | ✅ 已完成 |
| 后端开发完成 | 2024-03-22 | 2024-03-25 | ✅ 已完成 |
| 后台管理系统开发完成 | 2024-04-05 | 2024-04-10 | ✅ 已完成 |
| 小程序开发完成 | 2024-04-26 | 2024-05-28 | ✅ 已完成 |
| 系统测试完成 | 2024-05-03 | - | ⏳ 进行中 |
| 系统上线 | 2024-05-10 | - | ⏳ 待开始 |

## 8. 开发日志

### 2023-07-01 准备阶段开始
- 完成项目开发计划制定
- 确认技术选型和开发规范
- 开始环境搭建

### 2023-07-02 环境搭建
- 完成若依后端环境搭建
- 完成数据库安装和配置
- 完成Redis安装和配置

### 2023-07-03 数据库设计
- 完成数据库表结构设计
- 创建项目相关表
- 修改若依用户表，增加微信相关字段

### 2023-07-04 后端基础框架搭建
- 开始后端开发
- 配置若依框架
- 调整权限体系

### 2024-05-26 小程序开发
- 完成小程序基础框架搭建
- 完成网络请求工具类封装
- 完成首页UI开发和数据加载
- 开始登录页面开发

### 2024-05-27 登录功能优化
- 移除账号密码登录功能
- 仅保留微信一键登录方式
- 优化登录页面UI

### 2024-05-28 小程序代码重构与优化
- 合并重复的页面功能，减少代码冗余
- 将 `record/detail` 和 `record/edit` 功能合并到 `work/record` 中
- 删除了不必要的 `record` 目录
- 删除了空目录和无用目录
- 删除了 `message` 目录（已从用户中心移除了"消息通知"功能）
- 修改了 `user/index.js`，移除了对不存在的 `about` 页面的引用
- 修改了 `index/index.js`，将对不存在的 `project/list` 页面的引用改为 `project/index` 页面
- 在角色选择页面添加了管理员角色选项
- 为管理员角色添加了验证码功能
- 更新了 `app.json` 中的页面注册信息，移除了不存在的页面引用

### 2024-05-28 客户管理模块完善
- 实现了客户创建页面 `client/create/index`
- 实现了客户编辑页面 `client/edit/index`
- 优化了客户列表页面，添加创建客户按钮
- 注册了所有已开发页面到 `app.json`
- 修复了培训详情页面的跳转路径问题

## 9. 项目目录结构

```
miniapp-xiaosha/
├── admin/                # 后台管理系统
│   ├── src/             # 源代码目录
│   │   ├── api/        # 接口定义
│   │   ├── assets/     # 静态资源
│   │   ├── components/ # 组件
│   │   ├── layout/     # 布局
│   │   ├── router/     # 路由
│   │   ├── store/      # 状态管理
│   │   ├── utils/      # 工具函数
│   │   └── views/      # 视图页面
│   ├── public/         # 公共资源
│   └── package.json    # 前端依赖配置
├── server/              # 后端服务
│   ├── ruoyi-admin/    # 主应用模块
│   ├── ruoyi-common/   # 公共模块
│   ├── ruoyi-framework/# 框架模块
│   ├── ruoyi-generator/# 代码生成模块
│   ├── ruoyi-quartz/   # 定时任务模块
│   ├── ruoyi-system/   # 系统模块
│   └── pom.xml         # Maven配置文件
└── app/                 # 小程序端
    ├── pages/          # 页面文件
    │   ├── index/      # 首页
    │   ├── login/      # 登录页
    │   ├── role-select/# 角色选择页
    │   ├── work/       # 施工相关页面
    │   │   ├── index/   # 工作台首页
    │   │   ├── record/  # 施工记录
    │   │   ├── history/ # 历史记录
    │   │   ├── detail/  # 记录详情
    │   │   ├── list/    # 列表页
    │   │   └── report/  # 报告页
    │   ├── project/    # 项目相关页面
    │   │   ├── index/   # 项目列表
    │   │   ├── create/  # 创建项目
    │   │   ├── edit/    # 编辑项目
    │   │   └── detail/  # 项目详情
    │   ├── client/     # 客户相关页面
    │   │   ├── index/   # 客户列表
    │   │   ├── create/  # 创建客户
    │   │   ├── edit/    # 编辑客户
    │   │   └── detail/  # 客户详情
    │   ├── user/       # 用户中心
    │   ├── training/   # 培训/知识库
    │   │   ├── index/   # 知识列表
    │   │   └── detail/  # 内容详情
    │   ├── worker/     # 施工员专属页面
    │   └── admin/      # 管理员专属页面
    ├── utils/          # 工具函数
    │   └── request.js  # 请求工具
    ├── app.js
    ├── app.json
    └── app.wxss
```

## 10. 后续工作重点

1. 完成系统测试
   - 进行功能测试，确保所有功能正常运行
   - 进行性能测试，确保系统在高负载下稳定运行
   - 进行安全测试，确保系统数据安全

2. 实现微信服务号消息推送功能
   - 完成微信服务号配置
   - 开发消息推送功能
   - 实现消息提醒设置

3. 小程序上线准备
   - 准备小程序审核材料
   - 提交小程序审核
   - 处理审核反馈

4. 数据迁移和初始化
   - 清理测试数据
   - 准备初始化数据
   - 执行数据导入

5. 系统上线后的运维工作
   - 配置性能监控
   - 设置定期备份
   - 制定问题响应流程
# 有害生物防制施工管理系统开发计划

## 1. 项目概述

本文档是有害生物防制施工管理系统的开发计划，基于PRD文档中的需求，对小程序、后台管理系统和后端服务的开发进行详细规划。

**重要更新**: 项目已从若依框架迁移到SmartAdmin框架，获得更强的安全性、更丰富的功能和更好的开发体验。

## 2. 开发阶段

### 2.1 准备阶段（1周）
- ✅ 环境搭建
- ✅ 技术选型确认
- ✅ 开发规范制定
- ✅ 数据库设计

### 2.2 后端开发（3周）

#### 2.2.1 基础框架搭建（3天）
- ✅ SmartAdmin框架部署与配置
- ✅ 数据库连接配置
- ✅ 基础权限体系调整
- ✅ 从若依框架迁移到SmartAdmin框架

#### 2.2.2 用户管理模块（3天）
- ✅ 用户表设计与实现
- ✅ 微信用户绑定功能
- ✅ 用户信息查看接口
- ✅ 用户关联项目查看接口

#### 2.2.3 项目管理模块（4天）
- ✅ 项目表设计与实现
- ✅ 项目CRUD接口
- ✅ 项目关联用户接口
- ✅ 项目进度查看接口

#### 2.2.4 施工记录模块（5天）
- ✅ 施工记录表设计与实现
- ✅ 施工记录CRUD接口
- ✅ 施工照片上传接口
- ✅ 施工报告生成接口

#### 2.2.5 评价管理模块（2天）
- ✅ 评价表设计与实现
- ✅ 评价CRUD接口
- ✅ 评价统计接口

#### 2.2.6 消杀知识库模块（3天）
- ✅ 知识库内容表设计与实现
- ✅ 知识库内容CRUD接口
- ✅ 知识库分类管理（技术指南/操作规范/安全知识）
- ✅ 内容权限控制（施工员/客户/公开）

#### 2.2.7 消息推送模块（3天）
- ✅ 微信服务号对接
- ✅ 消息模板配置（施工提醒）
- ✅ 定时推送任务开发

### 2.3 后台管理系统开发（2周）

#### 2.3.1 基础框架搭建（2天）
- ✅ 若依VUE3框架部署与配置
- ✅ 权限控制调整
- ✅ 主题定制

#### 2.3.2 用户管理界面（2天）
- ✅ 用户列表页面
- ✅ 用户信息查看页面
- ✅ 用户关联项目查看页面

#### 2.3.3 项目管理界面（3天）
- ✅ 项目列表页面
- ✅ 项目添加/编辑页面
- ✅ 项目关联用户页面
- ✅ 项目进度查看页面

#### 2.3.4 施工数据管理界面（3天）
- ✅ 施工记录列表页面
- ✅ 施工记录详情页面
- ✅ 施工数据补充页面
- ✅ 施工报告预览与导出页面

#### 2.3.5 消杀知识库管理界面（2天）
- ✅ 知识库内容列表页面
- ✅ 知识库内容编辑页面
- ✅ 知识库内容发布页面
- ✅ 分类管理页面
- ✅ 权限设置页面

#### 2.3.6 统计分析界面（2天）
- ✅ 施工数据统计页面
- ✅ 评价数据统计页面
- ✅ 数据导出功能

#### 2.3.7 图文视频文章管理界面（2天）
- ✅ 内容列表页面
- ✅ 内容编辑页面
- ✅ 内容发布页面（图文视频文章）

#### 2.3.8 微信服务号配置界面（2天）
- ✅ 服务号配置页面
- ✅ 消息模板配置页面
- ✅ 推送规则设置页面

### 2.4 小程序开发（3周）

#### 2.4.1 基础框架搭建（3天）
- ✅ 微信小程序项目创建
- ✅ 页面框架搭建
- ✅ 全局样式定义
- ✅ 权限控制实现

#### 2.4.2 未登录用户功能（2天）
- ✅ 首页公开知识展示
- ✅ 文章详情页
- ✅ 微信一键登录功能

#### 2.4.3 通用功能模块（3天）
- ✅ 用户中心页面
- ✅ 消杀知识库浏览页面

#### 2.4.4 管理员功能模块（3天）
- ✅ 施工进度查看页面
- ✅ 施工数据补充页面
- ✅ 统计报表查看页面

#### 2.4.5 施工员功能模块（5天）
- ✅ 项目列表页面
- ✅ 施工数据录入页面
- ✅ 施工报告生成页面
- ✅ PDF报告下载功能
- ✅ 历史施工记录查看页面

#### 2.4.6 客户功能模块（4天）
- ✅ 关联项目查看页面
- ✅ 施工进度查看页面
- ✅ 施工报告下载页面
- ✅ 施工评价页面
- ✅ 历史施工记录查看页面

#### 2.4.7 消息推送功能（2天）
- ⏳ 推送消息接收与展示
- ⏳ 消息提醒设置页面

### 2.5 系统测试（1周）

#### 2.5.1 功能测试（3天）
- ⏳ 后端接口测试
- ⏳ 后台管理系统功能测试
- ⏳ 小程序功能测试

#### 2.5.2 性能测试（2天）
- ⏳ 接口响应时间测试
- ⏳ 并发用户测试
- ⏳ 数据库性能测试

#### 2.5.3 安全测试（2天）
- ⏳ 权限控制测试
- ⏳ 数据加密测试
- ⏳ 接口安全测试

### 2.6 部署上线（1周）

#### 2.6.1 环境部署（3天）
- ✅ 服务器环境配置
- ✅ 数据库部署
- ✅ 后端服务部署
- ✅ 后台管理系统部署
- ⏳ 小程序提交审核

#### 2.6.2 数据迁移（2天）
- ⏳ 测试数据清理
- ⏳ 初始化数据准备
- ⏳ 数据导入

#### 2.6.3 上线验证（2天）
- ⏳ 系统功能验证
- ⏳ 性能监控配置
- ⏳ 问题修复

## 3. 开发进度跟踪

| 模块 | 页面 | 状态 | 备注 |
|-----|-----|------|------|
| 登录 | 登录页 | ✅ 已完成 | 微信一键登录 |
| 工作台 | 工作首页 | ✅ 已完成 | 包含月度统计、待办事项、区域分布、药剂使用情况 |
| 工作台 | 施工记录 | ✅ 已完成 | 支持录入施工数据 |
| 工作台 | 施工详情 | ✅ 已完成 | 包含项目信息、基本信息、照片记录等 |
| 工作台 | 历史记录 | ✅ 已完成 | 支持筛选和查看详情 |
| 用户中心 | 个人信息 | ✅ 已完成 | 展示用户信息和功能菜单 |
| 知识库 | 知识列表 | ✅ 已完成 | 分类展示消杀知识 |
| 知识库 | 内容详情 | ✅ 已完成 | 支持视频播放和图文查看 |
| 项目管理 | 项目列表 | ✅ 已完成 | 展示项目基本信息 |
| 项目管理 | 项目详情 | ✅ 已完成 | 包含项目进度和施工记录 |
| 客户管理 | 客户列表 | ✅ 已完成 | 展示客户基本信息 |
| 客户管理 | 客户详情 | ✅ 已完成 | 包含客户信息和关联项目 |
| 客户管理 | 客户创建 | ✅ 已完成 | 支持添加新客户 |
| 客户管理 | 客户编辑 | ✅ 已完成 | 支持修改客户信息 |
| 角色选择 | 角色选择页 | ✅ 已完成 | 支持选择用户角色 |
| 消息通知 | 消息列表 | ❌ 未开始 | 展示系统通知和提醒 |

## 4. 风险评估与应对措施

| 风险点 | 可能性 | 影响程度 | 应对措施 |
|--------|--------|----------|----------|
| 微信服务号接口调用限制 | 中 | 高 | 做好接口调用频率控制，实现本地缓存机制 |
| PDF生成服务性能问题 | 中 | 中 | 选择高性能的PDF生成库，实现异步生成机制 |
| 小程序审核不通过 | 低 | 高 | 提前了解审核规则，做好备选方案 |
| 数据库性能瓶颈 | 低 | 高 | 做好数据库索引优化，实现数据分表策略 |

## 5. 技术栈确认

### 5.1 后端技术栈
- 框架：Spring Boot
- 数据库：MySQL
- 缓存：Redis
- 文件存储：阿里云OSS
- PDF生成：iText或wkhtmltopdf

### 5.2 后台管理系统技术栈
- 框架：Vue 3
- UI组件：Element Plus
- 状态管理：Pinia
- 构建工具：Vite

### 5.3 小程序技术栈
- 框架：原生微信小程序
- UI组件：WeUI
- 请求库：wx.request
- 图表：ECharts 小程序版

## 6. 开发规范

### 6.1 代码规范
- 后端：阿里巴巴Java开发手册
- 前端：Airbnb JavaScript Style Guide
- 小程序：微信小程序官方规范

### 6.2 Git工作流
- 主分支：master
- 开发分支：develop
- 功能分支：feature/xxx
- 发布分支：release/xxx
- 修复分支：hotfix/xxx

### 6.3 提交规范
- feat：新功能
- fix：修复bug
- docs：文档更新
- style：代码格式调整
- refactor：重构
- test：测试相关
- chore：构建过程或辅助工具变动

## 7. 项目里程碑

| 里程碑 | 计划日期 | 实际日期 | 完成状态 |
|--------|----------|----------|----------|
| 需求分析完成 | 2024-03-01 | 2024-03-01 | ✅ 已完成 |
| 系统设计完成 | 2024-03-08 | 2024-03-08 | ✅ 已完成 |
| 后端开发完成 | 2024-03-22 | 2024-03-25 | ✅ 已完成 |
| 后台管理系统开发完成 | 2024-04-05 | 2024-04-10 | ✅ 已完成 |
| 小程序开发完成 | 2024-04-26 | 2024-05-28 | ✅ 已完成 |
| 系统测试完成 | 2024-05-03 | - | ⏳ 进行中 |
| 系统上线 | 2024-05-10 | - | ⏳ 待开始 |

## 8. 开发日志

### 2023-07-01 准备阶段开始
- 完成项目开发计划制定
- 确认技术选型和开发规范
- 开始环境搭建

### 2023-07-02 环境搭建
- 完成若依后端环境搭建
- 完成数据库安装和配置
- 完成Redis安装和配置

### 2023-07-03 数据库设计
- 完成数据库表结构设计
- 创建项目相关表
- 修改若依用户表，增加微信相关字段

### 2023-07-04 后端基础框架搭建
- 开始后端开发
- 配置若依框架
- 调整权限体系

### 2024-05-26 小程序开发
- 完成小程序基础框架搭建
- 完成网络请求工具类封装
- 完成首页UI开发和数据加载
- 开始登录页面开发

### 2024-05-27 登录功能优化
- 移除账号密码登录功能
- 仅保留微信一键登录方式
- 优化登录页面UI

### 2024-05-28 小程序代码重构与优化
- 合并重复的页面功能，减少代码冗余
- 将 `record/detail` 和 `record/edit` 功能合并到 `work/record` 中
- 删除了不必要的 `record` 目录
- 删除了空目录和无用目录
- 删除了 `message` 目录（已从用户中心移除了"消息通知"功能）
- 修改了 `user/index.js`，移除了对不存在的 `about` 页面的引用
- 修改了 `index/index.js`，将对不存在的 `project/list` 页面的引用改为 `project/index` 页面
- 在角色选择页面添加了管理员角色选项
- 为管理员角色添加了验证码功能
- 更新了 `app.json` 中的页面注册信息，移除了不存在的页面引用

### 2024-05-28 客户管理模块完善
- 实现了客户创建页面 `client/create/index`
- 实现了客户编辑页面 `client/edit/index`
- 优化了客户列表页面，添加创建客户按钮
- 注册了所有已开发页面到 `app.json`
- 修复了培训详情页面的跳转路径问题

## 9. 项目目录结构

```
miniapp-xiaosha/
├── admin/                # 后台管理系统
│   ├── src/             # 源代码目录
│   │   ├── api/        # 接口定义
│   │   ├── assets/     # 静态资源
│   │   ├── components/ # 组件
│   │   ├── layout/     # 布局
│   │   ├── router/     # 路由
│   │   ├── store/      # 状态管理
│   │   ├── utils/      # 工具函数
│   │   └── views/      # 视图页面
│   ├── public/         # 公共资源
│   └── package.json    # 前端依赖配置
├── server/              # 后端服务
│   ├── ruoyi-admin/    # 主应用模块
│   ├── ruoyi-common/   # 公共模块
│   ├── ruoyi-framework/# 框架模块
│   ├── ruoyi-generator/# 代码生成模块
│   ├── ruoyi-quartz/   # 定时任务模块
│   ├── ruoyi-system/   # 系统模块
│   └── pom.xml         # Maven配置文件
└── app/                 # 小程序端
    ├── pages/          # 页面文件
    │   ├── index/      # 首页
    │   ├── login/      # 登录页
    │   ├── role-select/# 角色选择页
    │   ├── work/       # 施工相关页面
    │   │   ├── index/   # 工作台首页
    │   │   ├── record/  # 施工记录
    │   │   ├── history/ # 历史记录
    │   │   ├── detail/  # 记录详情
    │   │   ├── list/    # 列表页
    │   │   └── report/  # 报告页
    │   ├── project/    # 项目相关页面
    │   │   ├── index/   # 项目列表
    │   │   ├── create/  # 创建项目
    │   │   ├── edit/    # 编辑项目
    │   │   └── detail/  # 项目详情
    │   ├── client/     # 客户相关页面
    │   │   ├── index/   # 客户列表
    │   │   ├── create/  # 创建客户
    │   │   ├── edit/    # 编辑客户
    │   │   └── detail/  # 客户详情
    │   ├── user/       # 用户中心
    │   ├── training/   # 培训/知识库
    │   │   ├── index/   # 知识列表
    │   │   └── detail/  # 内容详情
    │   ├── worker/     # 施工员专属页面
    │   └── admin/      # 管理员专属页面
    ├── utils/          # 工具函数
    │   └── request.js  # 请求工具
    ├── app.js
    ├── app.json
    └── app.wxss
```

## 10. 后续工作重点

1. 完成系统测试
   - 进行功能测试，确保所有功能正常运行
   - 进行性能测试，确保系统在高负载下稳定运行
   - 进行安全测试，确保系统数据安全

2. 实现微信服务号消息推送功能
   - 完成微信服务号配置
   - 开发消息推送功能
   - 实现消息提醒设置

3. 小程序上线准备
   - 准备小程序审核材料
   - 提交小程序审核
   - 处理审核反馈

4. 数据迁移和初始化
   - 清理测试数据
   - 准备初始化数据
   - 执行数据导入

5. 系统上线后的运维工作
   - 配置性能监控
   - 设置定期备份
   - 制定问题响应流程